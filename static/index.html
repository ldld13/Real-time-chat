<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>本地聊天平台 - 登录</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
  <div id="wrap">
    <div id="login" class="panel">
      <h1>欢迎</h1>
      <input id="nameInput" placeholder="输入你的名字" maxlength="32" />
      <button id="joinBtn">进入聊天室</button>
    </div>
  </div>
  <script>
    (function(){
      const el = id => document.getElementById(id);
      el('joinBtn').addEventListener('click', ()=>{
        const v = el('nameInput').value.trim();
        if(!v){ alert('请输入名字'); return; }
        sessionStorage.setItem('chat_name', v);
        location.href = '/chat';
      });
      el('nameInput').addEventListener('keydown', e=>{ if(e.key==='Enter') el('joinBtn').click(); });
    })();
  </script>
</body>
</html>
